<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Campus - Facility Management System</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Custom CSS -->
    <link rel="stylesheet" href="./css/styles.css">
</head>
<body>
    <!-- ==================== LOGIN PAGE ==================== -->
    <div id="login-page" class="login-page">
        <div class="login-container">
            <div class="login-box animate-slideup">
                <div class="login-header">
                    <div class="login-logo">
                        <i class="fas fa-building"></i>
                    </div>
                    <h1 class="fw-bold">Smart Campus</h1>
                    <p class="text-muted mb-0">Facility Management System</p>
                </div>

                        <div class="mb-3">
                            <label for="loginUsername" class="form-label fw-600">Username</label>
                            <div class="input-group">
                                <span class="input-group-text border-0 bg-light">
                                    <i class="fas fa-user text-primary"></i>
                                </span>
                                <input type="text" class="form-control border-0 bg-light" id="loginUsername" placeholder="Enter your username" required>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label for="loginPassword" class="form-label fw-600">Password</label>
                            <div class="input-group">
                                <span class="input-group-text border-0 bg-light">
                                    <i class="fas fa-lock text-primary"></i>
                                </span>
                                <input type="password" class="form-control border-0 bg-light" id="loginPassword" placeholder="Enter your password" required>
                            </div>
                        </div>

                        <div class="login-body">
                    <form id="loginForm">

                        <div class="form-check mb-4">
                            <input class="form-check-input" type="checkbox" id="rememberMe">
                            <label class="form-check-label" for="rememberMe">
                                Remember me
                            </label>
                        </div>

                        <button type="submit" class="btn btn-primary w-100 py-2 fw-600">
                            <i class="fas fa-sign-in-alt me-2"></i>Login
                        </button>

                        <div class="mt-4 p-3 bg-light rounded-2 demo-creds">
                            <p class="mb-2 small fw-600"><i class="fas fa-info-circle me-2 text-info"></i>Demo Credentials:</p>
                            <div class="small">
                                <div class="mb-1"><strong>Student:</strong> <code>student</code> / <code>123</code></div>
                                <div class="mb-1"><strong>Staff:</strong> <code>staff</code> / <code>123</code></div>
                                <div><strong>Admin:</strong> <code>admin</code> / <code>123</code></div>
                            </div>
                        </div>
                    </form>
                </div>

                <div class="login-footer">
                    <p class="text-muted mb-0 small">&copy; 2024 Smart Campus. All rights reserved.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- ==================== MAIN APP WRAPPER ==================== -->
    <div class="wrapper" id="main-wrapper">
        <!-- ==================== SIDEBAR ==================== -->
        <nav id="sidebar" class="sidebar">
            <div class="sidebar-header">
                <div class="d-flex align-items-center justify-content-between">
                    <div class="brand-logo">
                        <i class="fas fa-building"></i>
                        <span class="brand-text">Smart Campus</span>
                    </div>
                    <button class="btn btn-link text-white d-md-none" id="close-sidebar">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>

            <ul class="list-unstyled components" id="sidebar-menu">
                <!-- Menu items will be populated by JavaScript -->
            </ul>

            <div class="sidebar-footer">
                <div class="user-profile">
                    <img src="https://via.placeholder.com/45" alt="Profile" class="rounded-circle" id="profile-avatar">
                    <div class="user-info">
                        <h6 class="mb-0" id="sidebar-username">User</h6>
                        <small id="sidebar-userrole">Role</small>
                    </div>
                </div>
                <button class="btn btn-outline-light btn-sm w-100" id="logout-btn">
                    <i class="fas fa-sign-out-alt me-2"></i>Logout
                </button>
            </div>
        </nav>

        <!-- ==================== OVERLAY (Mobile) ==================== -->
        <div id="sidebar-overlay" class="sidebar-overlay"></div>

        <!-- ==================== MAIN CONTENT ==================== -->
        <div id="content" class="content">
            <!-- TOPBAR -->
            <nav class="topbar">
                <div class="topbar-left">
                    <button id="sidebar-toggle" class="btn btn-light">
                        <i class="fas fa-bars"></i>
                    </button>
                    <h5 class="mb-0 page-title" id="page-title">Dashboard</h5>
                </div>

                <div class="topbar-right">
                    <!-- Notifications -->
                    <div class="notification-wrapper">
                        <button class="btn btn-light position-relative" id="notification-bell" title="Notifications">
                            <i class="fas fa-bell"></i>
                            <span class="badge bg-danger rounded-pill" id="notification-count">0</span>
                        </button>
                        <div class="notification-dropdown" id="notification-dropdown">
                            <div class="dropdown-header">
                                <h6 class="mb-0">Notifications</h6>
                                <button class="btn btn-sm btn-link" id="mark-all-read">Mark all read</button>
                            </div>
                            <div class="notification-list" id="notification-list">
                                <p class="text-center text-muted py-3">No notifications</p>
                            </div>
                            <div class="dropdown-footer text-center p-2">
                                <a href="#notifications" class="btn btn-sm btn-link" id="view-all-notifications">View All</a>
                            </div>
                        </div>
                    </div>

                    <!-- User Profile Dropdown -->
                    <div class="profile-wrapper">
                        <button class="btn btn-light d-flex align-items-center" id="profile-dropdown-btn">
                            <img src="https://via.placeholder.com/35" alt="Profile" class="rounded-circle me-2" id="topbar-avatar">
                            <span id="topbar-username">User</span>
                            <i class="fas fa-chevron-down ms-2"></i>
                        </button>
                        <div class="profile-dropdown" id="profile-dropdown">
                            <a href="#profile" class="dropdown-item" id="topbar-profile-link">
                                <i class="fas fa-user me-2"></i>Profile
                            </a>
                            <hr class="my-2">
                            <a href="#" class="dropdown-item" id="topbar-logout-link">
                                <i class="fas fa-sign-out-alt me-2"></i>Logout
                            </a>
                        </div>
                    </div>
                </div>
            </nav>

            <!-- MAIN CONTENT AREA -->
            <div class="main-content" id="main-content">
                <!-- Content will be dynamically loaded here -->
                <div class="text-center py-5">
                    <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ==================== MODALS ==================== -->

    <!-- Raise Ticket Modal -->
    <div class="modal fade" id="raiseTicketModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"><i class="fas fa-plus-circle me-2 text-primary"></i>Raise New Ticket</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="raiseTicketForm">
                        <div class="mb-3">
                            <label for="ticketTitle" class="form-label fw-600">Ticket Title</label>
                            <div class="input-group">
                                <span class="input-group-text border-0 bg-light"><i class="fas fa-heading text-primary"></i></span>
                                <input type="text" class="form-control border-0 bg-light" id="ticketTitle" placeholder="Brief description of the issue" required>
                            </div>
                        </div>

                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label for="ticketCategory" class="form-label fw-600">Category</label>
                                <select class="form-select" id="ticketCategory" required>
                                    <option value="">Select category</option>
                                    <option value="Electrical">Electrical</option>
                                    <option value="Plumbing">Plumbing</option>
                                    <option value="HVAC">HVAC</option>
                                    <option value="Carpentry">Carpentry</option>
                                    <option value="Cleaning">Cleaning</option>
                                    <option value="Furniture">Furniture</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label for="ticketPriority" class="form-label fw-600">Priority</label>
                                <div class="input-group">
                                    <span class="input-group-text border-0 bg-light"><i class="fas fa-sort-amount-down text-primary"></i></span>
                                    <select class="form-select border-0 bg-light" id="ticketPriority" required>
                                    <option value="Low">Low</option>
                                    <option value="Medium" selected>Medium</option>
                                    <option value="High">High</option>
                                    <option value="Critical">Critical</option>
                                </select>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label for="ticketLocation" class="form-label fw-600">Location</label>
                            <div class="input-group">
                                <span class="input-group-text border-0 bg-light"><i class="fas fa-map-marker-alt text-primary"></i></span>
                                <input type="text" class="form-control border-0 bg-light" id="ticketLocation" placeholder="e.g., Building A, Room 302" required>
                            </div>
                        </div>

                        <!-- Description removed per request (not necessary) -->

                        <div class="mb-3">
                            <label for="ticketAttachment" class="form-label fw-600">Attachment (Optional)</label>
                            <input type="file" class="form-control" id="ticketAttachment" accept="image/*,.pdf">
                            <small class="text-muted">Max file size: 5MB</small>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-light" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="submitRaiseTicket">
                        <i class="fas fa-paper-plane me-2"></i>Submit Ticket
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Profile Modal -->
    <div class="modal fade" id="editProfileModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"><i class="fas fa-user-edit me-2 text-primary"></i>Edit Profile</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="editProfileForm">
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label for="editName" class="form-label fw-600">Full Name</label>
                                <input type="text" class="form-control" id="editName" required>
                            </div>
                            <div class="col-md-6">
                                <label for="editEmail" class="form-label fw-600">Email</label>
                                <input type="email" class="form-control" id="editEmail" required>
                            </div>
                        </div>

                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label for="editPhone" class="form-label fw-600">Phone</label>
                                <input type="tel" class="form-control" id="editPhone">
                            </div>
                            <div class="col-md-6">
                                <label for="editDepartment" class="form-label fw-600">Department</label>
                                <input type="text" class="form-control" id="editDepartment">
                            </div>
                        </div>

                        <div class="mb-3">
                            <label for="editAddress" class="form-label fw-600">Address</label>
                            <input type="text" class="form-control" id="editAddress">
                        </div>

                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label for="editIdNumber" class="form-label fw-600">ID Number</label>
                                <input type="text" class="form-control" id="editIdNumber" disabled>
                            </div>
                            <div class="col-md-6">
                                <label for="editPosition" class="form-label fw-600">Position/Role</label>
                                <input type="text" class="form-control" id="editPosition" disabled>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-light" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="saveProfileChanges">
                        <i class="fas fa-save me-2"></i>Save Changes
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Assign Ticket Modal (Admin Only) -->
    <div class="modal fade" id="assignTicketModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"><i class="fas fa-tasks me-2 text-primary"></i>Assign Ticket</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="assignTicketForm">
                        <input type="hidden" id="assignTicketId">
                        <div class="mb-3">
                            <label for="assignStaff" class="form-label fw-600">Assign to Staff Member</label>
                            <div class="input-group">
                                <span class="input-group-text border-0 bg-light"><i class="fas fa-user text-primary"></i></span>
                                <select class="form-select border-0 bg-light" id="assignStaff" required>
                                    <option value="">Select staff member</option>
                                </select>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="assignDueDate" class="form-label fw-600">Due Date</label>
                            <div class="input-group">
                                <span class="input-group-text border-0 bg-light"><i class="fas fa-calendar-alt text-primary"></i></span>
                                <input type="date" class="form-control border-0 bg-light" id="assignDueDate" required>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="assignPriority" class="form-label fw-600">Priority</label>
                            <select class="form-select" id="assignPriority" required>
                                <option value="Low">Low</option>
                                <option value="Medium" selected>Medium</option>
                                <option value="High">High</option>
                                <option value="Critical">Critical</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="assignNotes" class="form-label fw-600">Notes</label>
                            <div class="input-group">
                                <span class="input-group-text border-0 bg-light"><i class="fas fa-sticky-note text-primary"></i></span>
                                <textarea class="form-control border-0 bg-light" id="assignNotes" rows="3" placeholder="Additional notes for staff"></textarea>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-light" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="confirmAssignTicket">
                        <i class="fas fa-check me-2"></i>Assign
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Alert Toast -->
    <div class="position-fixed" style="bottom: 20px; right: 20px; z-index: 9999;">
        <div id="alertToast" class="toast hide" role="alert">
            <div class="toast-body">
                <i class="fas fa-check-circle me-2"></i>
                <span id="toast-message"></span>
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
        </div>
    </div>

    <!-- Bootstrap Bundle JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- App Scripts -->
    <script src="./js/app.js" type="module"></script>
</body>
</html>


